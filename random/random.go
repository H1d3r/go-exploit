package random

import (
	"math/rand"
)

var (
	letters = []rune("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")
	hex     = []rune("0123456789abcdef")
	digits  = []rune("0123456789")
)

func RandLetters(n int) string {
	runeSlice := make([]rune, n)
	for i := range runeSlice {
		runeSlice[i] = letters[rand.Intn(len(letters))]
	}

	return string(runeSlice)
}

// RandLettersRange generates a random alpha string of length [min,max).
func RandLettersRange(min, max int) string {
	return RandLetters(rand.Intn(max-min) + min)
}

func RandHex(n int) string {
	runeSlice := make([]rune, n)
	for i := range runeSlice {
		runeSlice[i] = hex[rand.Intn(len(hex))]
	}

	return string(runeSlice)
}

// RandHexRange generates a random hex string of length [min,max).
func RandHexRange(min, max int) string {
	return RandHex(rand.Intn(max-min) + min)
}

func RandDigits(n int) string {
	runeSlice := make([]rune, n)
	for i := range runeSlice {
		runeSlice[i] = digits[rand.Intn(len(digits))]
	}

	// keep assigning a new digit until the first one isn't 0'
	if len(runeSlice) > 0 {
		for runeSlice[0] == '0' {
			runeSlice[0] = digits[rand.Intn(len(digits))]
		}
	}

	return string(runeSlice)
}

// RandDigitsRange generates a random numeric string of length [min,max).
func RandDigitsRange(min, max int) string {
	return RandDigits(rand.Intn(max-min) + min)
}
